<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Run a validator - Pirl 2.0</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The Pirl 2.0 documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../../favicon.svg">
        
        
        <link rel="shortcut icon" href="../../favicon.png">
        
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        
        <link rel="stylesheet" href="../../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../about.html"><strong aria-hidden="true">1.</strong> About Pirl 2.0</a></li><li class="chapter-item expanded "><a href="../../migrate/migrate.html"><strong aria-hidden="true">2.</strong> Migration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../migrate/new_wallet.html"><strong aria-hidden="true">2.1.</strong> Create Pirl 2.0 wallet</a></li><li class="chapter-item expanded "><a href="../../migrate/claims_coins.html"><strong aria-hidden="true">2.2.</strong> Claim coins with MEW</a></li><li class="chapter-item expanded "><a href="../../migrate/connect_ledger_with_mew.html"><strong aria-hidden="true">2.3.</strong> Ledger wallet with MEW</a></li></ol></li><li class="chapter-item expanded "><a href="../../staking/participate.html"><strong aria-hidden="true">3.</strong> Staking</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../staking/validator_guide/guides_how_to_validate.html" class="active"><strong aria-hidden="true">3.1.</strong> Run a validator</a></li><li class="chapter-item expanded "><a href="../../staking/nominator_guide/how_to_nominate.html"><strong aria-hidden="true">3.2.</strong> How to be a Nominator</a></li><li class="chapter-item expanded "><a href="../../staking/nominator_guide/how_to_unbound.html"><strong aria-hidden="true">3.3.</strong> How to unbound</a></li><li class="chapter-item expanded "><a href="../../staking/payout.html"><strong aria-hidden="true">3.4.</strong> How payout works</a></li></ol></li><li class="chapter-item expanded "><a href="../../democracy/democracy.html"><strong aria-hidden="true">4.</strong> Democracy</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../democracy/how_works_democracy.html"><strong aria-hidden="true">4.1.</strong> How works democracy</a></li><li class="chapter-item expanded "><a href="../../democracy/submit_proposal.html"><strong aria-hidden="true">4.2.</strong> How to submit a proposal</a></li><li class="chapter-item expanded "><a href="../../democracy/vote_council.html"><strong aria-hidden="true">4.3.</strong> How to vote for Council</a></li><li class="chapter-item expanded "><a href="../../democracy/treasury_tips.html"><strong aria-hidden="true">4.4.</strong> How to make a treasury tips</a></li><li class="chapter-item expanded "><a href="../../democracy/setup_identity.html"><strong aria-hidden="true">4.5.</strong> How to set identity</a></li></ol></li><li class="chapter-item expanded "><a href="../../contribute/contribution.html"><strong aria-hidden="true">5.</strong> Contribute</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../contribute/setup_github.html"><strong aria-hidden="true">5.1.</strong> Setup Github + GitKraken</a></li><li class="chapter-item expanded "><a href="../../contribute/write_your_first_doc.html"><strong aria-hidden="true">5.2.</strong> Write your first guide</a></li><li class="chapter-item expanded "><a href="../../contribute/how_to_submit.html"><strong aria-hidden="true">5.3.</strong> How to submit</a></li><li class="chapter-item expanded "><a href="../../contribute/markdown_keyword.html"><strong aria-hidden="true">5.4.</strong> Markdown Keyword</a></li></ol></li><li class="chapter-item expanded "><a href="../../FAQ/faq.html"><strong aria-hidden="true">6.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../../credits/credits.html"><strong aria-hidden="true">7.</strong> Credits</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Pirl 2.0</h1>

                    <div class="right-buttons">
                        
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <blockquote>
<h2><a class="header" href="#warning" id="warning">WARNING</a></h2>
<p>If you don't use the right requierements you could have your stake 
slashed, this guide is a baseline, if you do it your own way be 
sure to know what you are doing or <strong> you will loose money</strong>.
<br></br></p>
</blockquote>
<h2><a class="header" href="#requirements" id="requirements">Requirements</a></h2>
<p>The most common way for a beginner to run a validator is on a cloud server running Linux. You may choose whatever <a href="#list-of-vps-providers">VPS providers</a> that your prefer, and whatever operating system you are comfortable with.</p>
<p>The transactions weights in Pirl were benchmarked on standard hardware. It is recommended that validators run at least the standard hardware in order to ensure they are able to process all blocks in time. The following are not minimum requirements but if you decide to run with less than this beware that you might have performance issue.</p>
<h3><a class="header" href="#minimum-hardware-" id="minimum-hardware-">Minimum Hardware :</a></h3>
<ul>
<li>10GB ram, 60 GB Storage, 4 CPU , <strong>stable server uplink connection with fixed IP</strong></li>
</ul>
<h3><a class="header" href="#ideal-hardware-" id="ideal-hardware-">Ideal Hardware :</a></h3>
<ul>
<li>60GB ram, 300 GB Storage, 6 CPU, <strong>stable server uplink connection with fixed IP</strong></li>
</ul>
<h3><a class="header" href="#using-ubuntu-1804-" id="using-ubuntu-1804-">Using Ubuntu 18.04 :</a></h3>
<p>Install Rust
Once you choose your cloud service provider and set-up your new server, the first thing you will do is install Rust.</p>
<p>If you have never installed Rust, you should do this first. This command will fetch the latest version of Rust and install it.</p>
<pre><code>curl https://sh.rustup.rs -sSf | sh
</code></pre>
<p>Otherwise, if you have already installed Rust, run the following command to make sure you are using the latest version.</p>
<pre><code>rustup update
</code></pre>
<p>Finally, run this command to install the necessary dependencies for compiling and running the Polkadot node software.</p>
<pre><code>sudo apt install make clang pkg-config libssl-dev build-essential
</code></pre>
<p>Note - if you are using OSX and you have Homebrew installed, you can issue the following equivalent command INSTEAD of the previous one:</p>
<pre><code>brew install cmake pkg-config openssl git llvm
</code></pre>
<p>Install &amp; Configure Network Time Protocol (NTP) Client
NTP is a networking protocol designed to synchronize the clocks of computers over a network. NTP allows you to synchronize the clocks of all the systems within the network. Currently it is required that validators' local clocks stay reasonably in sync, so you should be running NTP or a similar service. You can check whether you have the NTP client by running:</p>
<p>If you are using Ubuntu 18.04 / 19.04, NTP Client should be installed by default.</p>
<pre><code>timedatectl
</code></pre>
<p>If NTP is installed and running, you should see System clock synchronized: yes (or a similar message). If you do not see it, you can install it by executing:</p>
<pre><code>sudo apt-get install ntp
</code></pre>
<p>ntpd will be started automatically after install. You can query ntpd for status information to verify that everything is working:</p>
<pre><code>sudo ntpq -p
</code></pre>
<blockquote>
<p>WARNING: Skipping this can result in the validator node missing block authorship opportunities. If the clock is out of sync (even by a small amount), the blocks the validator produces may not get accepted by the network. This will result in ImOnline heartbeats making it on chain, but zero allocated blocks making it on chain. </p>
</blockquote>
<h2><a class="header" href="#building-and-installing-the-pirl-binary" id="building-and-installing-the-pirl-binary">Building and Installing the pirl Binary</a></h2>
<br>
<h1><a class="header" href="#centos-8" id="centos-8">Centos 8</a></h1>
<p>Install and configure time</p>
<pre><code>dnf install chrony
</code></pre>
<p>Enable it</p>
<pre><code>systemctl enable chronyd
</code></pre>
<p>Allow the process in firewall</p>
<pre><code>firewall-cmd --permanent --add-service=ntp &amp;&amp; firewall-cmd --add-port=30333/tcp --permanent &amp;&amp; firewall-cmd --reload
</code></pre>
<p>If you have never installed Rust, you should do this first. This command will fetch the latest version of Rust and install it.</p>
<pre><code># curl https://sh.rustup.rs -sSf | sh
# source $HOME/.cargo/env
</code></pre>
<p>Otherwise, if you have already installed Rust, run the following command to make sure you are using the latest version.</p>
<pre><code>rustup update
</code></pre>
<p>Install development tools</p>
<pre><code>dnf group install &quot;Development Tools&quot; -y
</code></pre>
<p>Install other tools needed</p>
<pre><code>dnf install -y cmake llvm  llvm-devel clang
</code></pre>
<p>Install rust tools</p>
<pre><code>rustup toolchain install nightly-2020-10-06
rustup update nightly
rustup update stable
rustup target add wasm32-unknown-unknown --toolchain nightly-2020-10-06-x86_64-unknown-linux-gnu
</code></pre>
<p>clone Pirl from github</p>
<pre><code>git clone  --depth 1 --branch  0.8.25 https://github.com/pirl/pirl-2_0
</code></pre>
<p>move to pirl-2_0 directory and build it</p>
<pre><code>cargo +nightly-2020-10-06-x86_64-unknown-linux-gnu build --release
</code></pre>
<p>Copy the binary ready to use</p>
<pre><code> cp -rp target/release/pirl /usr/bin/
</code></pre>
<h2><a class="header" href="#make-the-service-permanent" id="make-the-service-permanent">Make the service permanent</a></h2>
<p>create systemd file in /usr/lib/systemd/system/pirl.service</p>
<pre><code>[Unit]
Description=Pirl Validator
After=network-online.target

[Service]

ExecStart=/usr/bin/pirl  --port &quot;30333&quot;   --ws-port &quot;9944&quot;   --rpc-port &quot;9933&quot; --validator  --name &quot;CHANGE IT TO A DESIRED NAME&quot;
User=root
Restart=always
ExecStartPre=/bin/sleep 5
RestartSec=30s

[Install]
WantedBy=multi-user.target

</code></pre>
<p>Check if your node is appearing in the telemetry UI : <a href="https://telemetry.polkadot.io/#list/Pirl">https://telemetry.polkadot.io/#list/Pirl</a></p>
<h2><a class="header" href="#step-2-assign-the-node-to-an-account" id="step-2-assign-the-node-to-an-account">Step 2 Assign the node to an account</a></h2>
<p>We assume that you have already claim your coin from Pirl 1.0 (see <a href="https://docs.pirl.io/migrate/claims_coins.html">how to claim</a>) or you already have an account with your Pirl on it.</p>
<p>You need to create an controller account in order to do the next steps. </p>
<blockquote>
<p>The stash account serve as you &quot;cold wallet&quot; with all your precious coin</p>
<p>The controller account serve as a manager to your stash account
<br></br><strong>Always keep in safe place your keystore file or your 12/24 words seed</strong></p>
</blockquote>
<p>To create an controller account, add account
<img src="media/01.JPG" alt="Controller" /></p>
<p>Choose any name that suit for you
<img src="media/02.JPG" alt="Controller" /></p>
<p>Then send some pirl (from your stash account) for covering network fees
<img src="media/02b.JPG" alt="Controller" /></p>
<p>You can proceed to the next steps</p>
<h3><a class="header" href="#create-session-key" id="create-session-key">Create session key:</a></h3>
<p>Go in you terminal where the node is installed and paste the current command, you will have a session key of your node.</p>
<pre><code>curl -H &quot;Content-Type: application/json&quot; -d '{&quot;id&quot;:1, &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;: &quot;author_rotateKeys&quot;, &quot;params&quot;:[]}' http://localhost:9933
</code></pre>
<h3><a class="header" href="#submitting-the-setkeys-transaction" id="submitting-the-setkeys-transaction">Submitting the setKeys Transaction:</a></h3>
<p>Go to the <a href="https://explorer.pirl.network/#/staking/actions">explorer</a> you can now create a validator, use the key generated above to paste in the form.</p>
<p>Last step, hit the validate button when the transaction is confirmed.</p>
<blockquote>
<p>In case you have already bonded your pirl
<img src="media/AlreadyStaked.JPG" alt="Stashes" /></p>
<blockquote>
<p>If your currently nominate, you can stop that with square button</p>
</blockquote>
<p>You can add your session key in the associate button
<img src="media/setKeyForValidator.JPG" alt="Stashes" /></p>
</blockquote>
<p>Voila, you are all set</p>
<p><br></br></p>
<h2><a class="header" href="#list-of-vps-providers" id="list-of-vps-providers">List of VPS providers</a></h2>
<ul>
<li><a href="https://pirlhosting.com">PirlHosting</a></li>
</ul>
<p align=right> Written by Masterdubs </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../staking/participate.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../staking/nominator_guide/how_to_nominate.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../staking/participate.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../../staking/nominator_guide/how_to_nominate.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
